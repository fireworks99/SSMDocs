import{_ as i,c as p,d as s,a as o,b as e,w as t,r as c,o as r,e as l}from"./app-DcIDDahh.js";const d={},u={class:"table-of-contents"};function m(v,n){const a=c("router-link");return r(),p("div",null,[s("nav",u,[s("ul",null,[s("li",null,[e(a,{to:"#_1-bean是什么"},{default:t(()=>[...n[0]||(n[0]=[l("1.Bean是什么",-1)])]),_:1})]),s("li",null,[e(a,{to:"#_2-bean的生命周期"},{default:t(()=>[...n[1]||(n[1]=[l("2.Bean的生命周期",-1)])]),_:1})]),s("li",null,[e(a,{to:"#_3-创建bean的方式"},{default:t(()=>[...n[2]||(n[2]=[l("3.创建Bean的方式",-1)])]),_:1})]),s("li",null,[e(a,{to:"#_4-使用bean-依赖注入"},{default:t(()=>[...n[3]||(n[3]=[l("4.使用Bean（依赖注入）",-1)])]),_:1})]),s("li",null,[e(a,{to:"#_5-bean的作用域"},{default:t(()=>[...n[4]||(n[4]=[l("5.Bean的作用域",-1)])]),_:1})]),s("li",null,[e(a,{to:"#_6-bean的意义"},{default:t(()=>[...n[5]||(n[5]=[l("6.Bean的意义",-1)])]),_:1})])])]),n[6]||(n[6]=o(`<h2 id="_1-bean是什么" tabindex="-1"><a class="header-anchor" href="#_1-bean是什么"><span>1.Bean是什么</span></a></h2><ul><li>Bean是Java对象</li><li>Bean由Spring容器进行实例化、组装和管理</li></ul><table><thead><tr><th>对比维度</th><th>Spring Bean</th><th>普通 Java 对象（POJO）</th></tr></thead><tbody><tr><td>对象创建</td><td>Spring 容器通过 <strong>反射</strong> 创建</td><td><code>new</code> 关键字手动创建</td></tr><tr><td>创建时机</td><td>容器启动时或首次使用时（懒加载）</td><td>代码执行到 <code>new</code> 时</td></tr><tr><td>依赖获取</td><td><strong>依赖注入（DI）</strong>：自动注入</td><td>手动 <code>new</code> 或传参</td></tr><tr><td>对象组装</td><td>容器负责装配对象关系</td><td>开发者自己组装</td></tr><tr><td>生命周期管理</td><td>容器完整托管（创建 → 初始化 → 销毁）</td><td>JVM 管理内存，逻辑生命周期由代码控制</td></tr><tr><td>单例管理</td><td>默认单例（容器级别）</td><td>需手写单例模式</td></tr><tr><td>作用域</td><td>singleton / prototype / request / session 等</td><td>只能靠代码逻辑区分</td></tr><tr><td>配置方式</td><td>注解 / XML / Java Config</td><td>纯 Java 代码</td></tr><tr><td>解耦能力</td><td><strong>高</strong>（面向接口编程）</td><td><strong>低</strong>（强依赖具体实现）</td></tr><tr><td>可测试性</td><td>易于 Mock / 替换实现</td><td>测试成本高</td></tr><tr><td>资源释放</td><td>自动回调 <code>@PreDestroy</code></td><td>手动关闭、易遗漏</td></tr></tbody></table><h2 id="_2-bean的生命周期" tabindex="-1"><a class="header-anchor" href="#_2-bean的生命周期"><span>2.Bean的生命周期</span></a></h2><p>Spring容器负责Bean的完整生命周期：</p><blockquote><p>实例化 → 属性注入 → 初始化 → 使用 → 销毁</p></blockquote><h2 id="_3-创建bean的方式" tabindex="-1"><a class="header-anchor" href="#_3-创建bean的方式"><span>3.创建Bean的方式</span></a></h2><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token comment">// 方式1：注解（最常用）</span></span>
<span class="line"><span class="token annotation punctuation">@Component</span>  <span class="token comment">// 通用组件</span></span>
<span class="line"><span class="token annotation punctuation">@Controller</span> <span class="token comment">// Web控制器</span></span>
<span class="line"><span class="token annotation punctuation">@Service</span>    <span class="token comment">// 业务逻辑层</span></span>
<span class="line"><span class="token annotation punctuation">@Repository</span> <span class="token comment">// 数据访问层</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 方式2：Java配置类</span></span>
<span class="line"><span class="token annotation punctuation">@Configuration</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Bean</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 方式3：XML配置（传统方式）</span></span>
<span class="line"><span class="token comment">// &lt;bean id=&quot;userService&quot; class=&quot;com.example.UserService&quot;/&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-使用bean-依赖注入" tabindex="-1"><a class="header-anchor" href="#_4-使用bean-依赖注入"><span>4.使用Bean（依赖注入）</span></a></h2><p>示例1</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token annotation punctuation">@Service</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderService</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Spring自动注入UserService Bean</span></span>
<span class="line">    <span class="token annotation punctuation">@Autowired</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// 构造器注入（推荐）</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">OrderService</span><span class="token punctuation">(</span><span class="token class-name">UserService</span> userService<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>userService <span class="token operator">=</span> userService<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例2</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token comment">// 容器启动时：</span></span>
<span class="line"><span class="token number">1.</span> 加载配置（<span class="token constant">XML</span><span class="token operator">/</span>注解<span class="token operator">/</span><span class="token class-name">Java</span>配置）</span>
<span class="line"><span class="token number">2.</span> 解析<span class="token class-name">Bean</span>定义（<span class="token class-name">BeanDefinition</span>）</span>
<span class="line"><span class="token number">3.</span> 实例化<span class="token class-name">Bean</span>（调用构造器）</span>
<span class="line"><span class="token number">4.</span> 注入依赖（<span class="token annotation punctuation">@Autowired</span>等）</span>
<span class="line"><span class="token number">5.</span> 初始化<span class="token class-name">Bean</span>（<span class="token annotation punctuation">@PostConstruct</span>）</span>
<span class="line"><span class="token number">6.</span> 将<span class="token class-name">Bean</span>放入容器<span class="token class-name">Map</span>中管理</span>
<span class="line"><span class="token number">7.</span> 处理循环依赖等问题</span>
<span class="line"><span class="token number">8.</span> 应用就绪，提供<span class="token class-name">Bean</span>查找服务</span>
<span class="line"></span>
<span class="line"><span class="token comment">// 使用示例：</span></span>
<span class="line"><span class="token annotation punctuation">@RestController</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 容器启动时已经准备好了这个Bean</span></span>
<span class="line">    <span class="token annotation punctuation">@Autowired</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">MyService</span> service<span class="token punctuation">;</span>  <span class="token comment">// ← 从容器的Map中取出</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-bean的作用域" tabindex="-1"><a class="header-anchor" href="#_5-bean的作用域"><span>5.Bean的作用域</span></a></h2><p>Spring提供多种作用域：</p><ul><li><strong>Singleton</strong>（默认）：整个应用只有一个实例</li><li><strong>Prototype</strong>：每次请求都创建新实例</li><li><strong>Request</strong>：每个HTTP请求一个实例（Web）</li><li><strong>Session</strong>：每个HTTP会话一个实例（Web）</li><li><strong>Application</strong>：整个ServletContext生命周期</li></ul><h2 id="_6-bean的意义" tabindex="-1"><a class="header-anchor" href="#_6-bean的意义"><span>6.Bean的意义</span></a></h2><ul><li><strong>控制反转（IoC）</strong>：将对象创建的控制权交给容器</li><li><strong>依赖管理</strong>：自动处理对象间的依赖关系</li><li><strong>配置集中化</strong>：便于管理和维护</li><li><strong>促进松耦合</strong>：面向接口编程，易于测试</li><li><strong>生命周期管理</strong>：统一的初始化和销毁机制</li></ul>`,18))])}const b=i(d,[["render",m]]),g=JSON.parse(`{"path":"/post/14_Bean.html","title":"3-Bean","lang":"zh-CN","frontmatter":{"title":"3-Bean","lang":"zh-CN","author":"fireworks99","date":"2026-01-06"},"git":{"updatedTime":1767671284000,"contributors":[{"name":"fireworks99","username":"fireworks99","email":"46671672+fireworks99@users.noreply.github.com","commits":1,"url":"https://github.com/fireworks99"}],"changelog":[{"hash":"91d7031b85abb7956b2091c944e1ef088a604e4f","time":1767671284000,"email":"46671672+fireworks99@users.noreply.github.com","author":"fireworks99","message":"'Bean'"}]},"filePathRelative":"post/14_Bean.md"}`);export{b as comp,g as data};
