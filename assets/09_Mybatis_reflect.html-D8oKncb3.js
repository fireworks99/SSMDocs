import{_ as l,c,d as n,a as o,b as e,w as p,r as i,o as u,e as t}from"./app-d13TCMxI.js";const r="/SSMDocs/assets/Mybatis_reflect-C7H5xDzz.png",k="/SSMDocs/assets/MybatisVSReflect-CkPy8qUj.png",d={},m={class:"table-of-contents"};function v(b,s){const a=i("router-link");return u(),c("div",null,[s[5]||(s[5]=n("h1",{id:"mybatis-的反射",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#mybatis-的反射"},[n("span",null,"Mybatis 的反射")])],-1)),n("nav",m,[n("ul",null,[n("li",null,[e(a,{to:"#涉及文件"},{default:p(()=>[...s[0]||(s[0]=[t("涉及文件",-1)])]),_:1}),n("ul",null,[n("li",null,[e(a,{to:"#usermapper"},{default:p(()=>[...s[1]||(s[1]=[t("UserMapper",-1)])]),_:1})]),n("li",null,[e(a,{to:"#usermapper-xml"},{default:p(()=>[...s[2]||(s[2]=[t("UserMapper.xml",-1)])]),_:1})]),n("li",null,[e(a,{to:"#usermapperimpl"},{default:p(()=>[...s[3]||(s[3]=[t("UserMapperImpl",-1)])]),_:1})])])]),n("li",null,[e(a,{to:"#mybatis-vs-原始反射"},{default:p(()=>[...s[4]||(s[4]=[t("Mybatis vs 原始反射",-1)])]),_:1})])])]),s[6]||(s[6]=o('<h2 id="涉及文件" tabindex="-1"><a class="header-anchor" href="#涉及文件"><span>涉及文件</span></a></h2><p><img src="'+r+`" alt="Mybatis 反射"></p><h3 id="usermapper" tabindex="-1"><a class="header-anchor" href="#usermapper"><span>UserMapper</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">User</span> <span class="token function">selectUserById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="usermapper-xml" tabindex="-1"><a class="header-anchor" href="#usermapper-xml"><span>UserMapper.xml</span></a></h3><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper.UserMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectUserById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        SELECT * FROM users WHERE id = #{id}</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="usermapperimpl" tabindex="-1"><a class="header-anchor" href="#usermapperimpl"><span>UserMapperImpl</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserMapperImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">selectUserById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 连接数据库并实现：SELECT * FROM users WHERE id = #{id}</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 通过反射，生成对象并调度方法</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">reflect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">UserMapperImpl</span> object <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            object <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserMapperImpl</span><span class="token punctuation">)</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.example.mapper.UserMapperImpl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">Method</span> method <span class="token operator">=</span> object<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;selectUserById&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> object<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mybatis-vs-原始反射" tabindex="-1"><a class="header-anchor" href="#mybatis-vs-原始反射"><span>Mybatis vs 原始反射</span></a></h2><p><img src="`+k+'" alt="Mybatis vs 反射"></p><blockquote><p>由此可见，MyBatis的底层是基于<strong>反射</strong>实现的<strong>动态代理</strong>。</p></blockquote>',11))])}const f=l(d,[["render",v]]),g=JSON.parse(`{"path":"/post/09_Mybatis_reflect.html","title":"2-Mybatis的反射","lang":"zh-CN","frontmatter":{"title":"2-Mybatis的反射","lang":"zh-CN","author":"fireworks99","date":"2025-10-17"},"git":{"updatedTime":1767600213000,"contributors":[{"name":"fireworks99","username":"fireworks99","email":"46671672+fireworks99@users.noreply.github.com","commits":4,"url":"https://github.com/fireworks99"}],"changelog":[{"hash":"9cc0980c08b01ef53cfd270686ad7e700fbd52d6","time":1767600213000,"email":"46671672+fireworks99@users.noreply.github.com","author":"fireworks99","message":"'title'"},{"hash":"cecc7eaef5659be09a187b53eac45abf100cf916","time":1767599556000,"email":"46671672+fireworks99@users.noreply.github.com","author":"fireworks99","message":"'emoji'"},{"hash":"f3c0f285d2309ba4ce44a298bbf853bc038f3398","time":1760678798000,"email":"46671672+fireworks99@users.noreply.github.com","author":"fireworks99","message":"图片重命名"},{"hash":"5d2d5aea9d6caf139d53ef363026be8e423435b5","time":1760673424000,"email":"46671672+fireworks99@users.noreply.github.com","author":"fireworks99","message":"'mybatis与反射'"}]},"filePathRelative":"post/09_Mybatis_reflect.md"}`);export{f as comp,g as data};
