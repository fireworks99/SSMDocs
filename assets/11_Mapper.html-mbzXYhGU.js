import{_ as k,c as d,d as s,a as i,b as l,w as p,r as c,o as m,e as n}from"./app-CMYMdbcd.js";const v="/SSMDocs/assets/Rowbounds-HP13MqHz.png",b="/SSMDocs/assets/Employee-CtKJQSW2.svg",g="/SSMDocs/assets/chapter5_cascade-C6QQNc8j.png",y={},q={class:"table-of-contents"};function h(w,a){const o=c("router-link"),u=c("Tabs"),r=c("CodeTabs");return m(),d("div",null,[a[28]||(a[28]=s("h1",{id:"映射器",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#映射器"},[s("span",null,"映射器")])],-1)),s("nav",q,[s("ul",null,[s("li",null,[l(o,{to:"#_1-概述"},{default:p(()=>[...a[0]||(a[0]=[n("1.概述",-1)])]),_:1})]),s("li",null,[l(o,{to:"#_2-select"},{default:p(()=>[...a[1]||(a[1]=[n("2.select",-1)])]),_:1}),s("ul",null,[s("li",null,[l(o,{to:"#_1-常用属性"},{default:p(()=>[...a[2]||(a[2]=[n("①.常用属性",-1)])]),_:1})]),s("li",null,[l(o,{to:"#_2-多个参数"},{default:p(()=>[...a[3]||(a[3]=[n("②.多个参数",-1)])]),_:1})]),s("li",null,[l(o,{to:"#_3resultmap"},{default:p(()=>[...a[4]||(a[4]=[n("③resultMap",-1)])]),_:1})]),s("li",null,[l(o,{to:"#_4-rowbounds"},{default:p(()=>[...a[5]||(a[5]=[n("④.RowBounds",-1)])]),_:1})])])]),s("li",null,[l(o,{to:"#_3-insert"},{default:p(()=>[...a[6]||(a[6]=[n("3.insert",-1)])]),_:1}),s("ul",null,[s("li",null,[l(o,{to:"#_1-主键回填"},{default:p(()=>[...a[7]||(a[7]=[n("①.主键回填",-1)])]),_:1})]),s("li",null,[l(o,{to:"#_2自定义主键"},{default:p(()=>[...a[8]||(a[8]=[n("②自定义主键",-1)])]),_:1})])])]),s("li",null,[l(o,{to:"#_4-resulttype-map"},{default:p(()=>[...a[9]||(a[9]=[n("4.resultType=map",-1)])]),_:1})]),s("li",null,[l(o,{to:"#_5-sql"},{default:p(()=>[...a[10]||(a[10]=[n("5.sql",-1)])]),_:1})]),s("li",null,[l(o,{to:"#_6-级联"},{default:p(()=>[...a[11]||(a[11]=[n("6.级联",-1)])]),_:1})])])]),a[29]||(a[29]=i(`<h2 id="_1-概述" tabindex="-1"><a class="header-anchor" href="#_1-概述"><span>1.概述</span></a></h2><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token comment">&lt;!-- 基础配置类元素 --&gt;</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cache</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cache-ref</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parameterMap</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">&lt;!-- SQL 构建元素（可复用 SQL 片段） --&gt;</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">&lt;!-- CRUD 元素（核心） --&gt;</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">&lt;!-- 结果映射元素 --&gt;</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>discriminator</span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-select" tabindex="-1"><a class="header-anchor" href="#_2-select"><span>2.select</span></a></h2><h3 id="_1-常用属性" tabindex="-1"><a class="header-anchor" href="#_1-常用属性"><span>①.常用属性</span></a></h3><table><thead><tr><th>属性名</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td><strong>id</strong></td><td>对应 Mapper 接口的方法名</td><td>id=&quot;findUserById&quot;</td></tr><tr><td><strong>parameterType</strong></td><td>入参类型，可写类全路径、别名、Map、基本类型</td><td>parameterType=&quot;int&quot;</td></tr><tr><td><strong>resultType</strong></td><td>返回类型（对象/基本类型/Map）</td><td>resultType=&quot;com.xx.User&quot;</td></tr><tr><td><strong>resultMap</strong></td><td>使用自定义映射时使用</td><td>resultMap=&quot;userResultMap&quot;</td></tr><tr><td><strong>flushCache</strong></td><td>是否刷新缓存（查询默认 false）</td><td>flushCache=&quot;false&quot;</td></tr><tr><td><strong>useCache</strong></td><td>是否使用二级缓存（默认 true）</td><td>useCache=&quot;true&quot;</td></tr><tr><td><strong>timeout</strong></td><td>超时毫秒数，少用</td><td>timeout=&quot;5000&quot;</td></tr><tr><td><strong>fetchSize</strong></td><td>一次拉取多少条记录</td><td>fetchSize=&quot;100&quot;</td></tr></tbody></table><h3 id="_2-多个参数" tabindex="-1"><a class="header-anchor" href="#_2-多个参数"><span>②.多个参数</span></a></h3><ol><li>Map传参 <ul><li>优点：几乎适应所有场景</li><li>缺点： <ul><li>可读性差</li><li>不能限定参数的类型</li></ul></li></ul></li><li>注解传参 <ul><li>优点： <ul><li>可读性好</li><li>可以限定参数的类型</li></ul></li><li>缺点：参数较多时写起来麻烦</li></ul></li><li>Java Bean传参 <ul><li>优点：即使参数多，只需传一个对象</li><li>缺点：复杂场景可能另外需要注解传参</li></ul></li><li>混合传参（注解 + Java Bean） <ul><li>优点：可以应对复杂场景</li></ul></li></ol><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">PageParam</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Role</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Param</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">RoleMapper</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Role</span> <span class="token function">getRole</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> <span class="token function">findRolesByMap</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> parameterMap<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> <span class="token function">findRolesByAnnotation</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;roleName&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> roleName<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;note&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> note<span class="token punctuation">)</span> <span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> <span class="token function">findRolesByBean</span><span class="token punctuation">(</span><span class="token class-name">Role</span> role<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByMix</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;params&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Role</span> role<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;page&quot;</span><span class="token punctuation">)</span> <span class="token class-name">PageParam</span> <span class="token class-name">PageParam</span><span class="token punctuation">)</span> <span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span>
<span class="line"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span>
<span class="line">        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5.mapper.RoleMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getRole<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>long<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>role5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        select id, role_name as roleName, note from t_role where id = #{id}</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findRolesByMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>role5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        select id, role_name as roleName, note from t_role</span>
<span class="line">        where role_name like concat(&#39;%&#39;, #{roleName}, &#39;%&#39;)</span>
<span class="line">        and note like concat(&#39;%&#39;, #{note}, &#39;%&#39;)</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findRolesByAnnotation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>role5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        select id, role_name as roleName, note from t_role</span>
<span class="line">        where role_name like concat(&#39;%&#39;, #{roleName}, &#39;%&#39;)</span>
<span class="line">        and note like concat(&#39;%&#39;, #{note}, &#39;%&#39;)</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findRolesByBean<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5.pojo.Role<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>role5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        select id, role_name as roleName, note from t_role</span>
<span class="line">        where role_name like concat(&#39;%&#39;, #{roleName}, &#39;%&#39;)</span>
<span class="line">        and note like concat(&#39;%&#39;, #{note}, &#39;%&#39;)</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findByMix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>role5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bind</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>offset<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(page.pageNo - 1) * page.pageSize<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        select id, role_name as roleName, note from t_role</span>
<span class="line">        where role_name like concat(&#39;%&#39;, #{params.roleName}, &#39;%&#39;)</span>
<span class="line">        and note like concat(&#39;%&#39;, #{params.note}, &#39;%&#39;)</span>
<span class="line">        limit #{offset}, #{page.pageSize}</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5<span class="token punctuation">.</span>main</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">PageParam</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Role</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryUtils</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">RoleMapper</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            sqlSession <span class="token operator">=</span> <span class="token class-name">SqlSessionFactoryUtils</span><span class="token punctuation">.</span><span class="token function">openSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">RoleMapper</span> roleMapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">RoleMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">Role</span> role <span class="token operator">=</span> roleMapper<span class="token punctuation">.</span><span class="token function">getRole</span><span class="token punctuation">(</span><span class="token number">11L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>role<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token comment">// 1.Map传参</span></span>
<span class="line">            <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> hashMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            hashMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;roleName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;is&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            hashMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;note&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;st&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> rolesByMap <span class="token operator">=</span> roleMapper<span class="token punctuation">.</span><span class="token function">findRolesByMap</span><span class="token punctuation">(</span>hashMap<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rolesByMap<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token comment">// 2.注解传参</span></span>
<span class="line">            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> rolesByAnnotation <span class="token operator">=</span> roleMapper<span class="token punctuation">.</span><span class="token function">findRolesByAnnotation</span><span class="token punctuation">(</span><span class="token string">&quot;is&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;st&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rolesByAnnotation<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token comment">// 3.Java Bean传参</span></span>
<span class="line">            <span class="token class-name">Role</span> role1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Role</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            role1<span class="token punctuation">.</span><span class="token function">setRoleName</span><span class="token punctuation">(</span><span class="token string">&quot;is&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            role1<span class="token punctuation">.</span><span class="token function">setNote</span><span class="token punctuation">(</span><span class="token string">&quot;st&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> rolesByBean <span class="token operator">=</span> roleMapper<span class="token punctuation">.</span><span class="token function">findRolesByBean</span><span class="token punctuation">(</span>role1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rolesByBean<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token comment">// 4.混合传参(注解 + Java Bean)</span></span>
<span class="line">            <span class="token class-name">PageParam</span> pageParam <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PageParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            pageParam<span class="token punctuation">.</span><span class="token function">setPageNo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            pageParam<span class="token punctuation">.</span><span class="token function">setPageSize</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> byMix <span class="token operator">=</span> roleMapper<span class="token punctuation">.</span><span class="token function">findByMix</span><span class="token punctuation">(</span>role1<span class="token punctuation">,</span> pageParam<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>byMix<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token comment">//提交事务</span></span>
<span class="line">            sqlSession<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">if</span><span class="token punctuation">(</span>sqlSession <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                sqlSession<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>sqlSession <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3resultmap" tabindex="-1"><a class="header-anchor" href="#_3resultmap"><span>③resultMap</span></a></h3><blockquote><p>有了resultType，为什么还需要resultMap？</p></blockquote><p>使用 <code>resultType</code> 时，MyBatis 会直接把 <strong>column → property</strong> 自动转换，但这只适合：</p><ul><li>字段名和属性名一致</li><li>一张表对应一个简单实体类</li><li>没有关联对象</li></ul><p>但真实业务远比这个复杂。</p><p>当出现以下情况时，就必须使用 <code>resultMap</code>：</p><ol><li>多表联查</li><li>一对多映射</li><li>嵌套查询</li><li>多态</li></ol><p>User.java</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> sex<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Dept</span> dept<span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Dept.java</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dept</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>UserMapper.java</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">User</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>UserMapper.xml</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span>
<span class="line"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span>
<span class="line">        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5.mapper.UserMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deptId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deptName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getUser<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>long<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        select u.id, u.username, d.id as deptId, d.name as deptName</span>
<span class="line">        from t_user u join dept d on u.deptId = d.id where u.id = #{id}</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Main.java</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">User</span> user1 <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">User</span> user2 <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token number">2L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//User{id=1, username=&#39;admin&#39;, password=&#39;null&#39;, sex=null, deptId=1, deptName=&#39;技术部&#39;}</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//User{id=2, username=&#39;user&#39;, password=&#39;null&#39;, sex=null, deptId=2, deptName=&#39;业务部&#39;}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-rowbounds" tabindex="-1"><a class="header-anchor" href="#_4-rowbounds"><span>④.RowBounds</span></a></h3><p>Mybatis自带的<strong>逻辑分页（内存分页）</strong>，而非<strong>物理分页（数据库分页）</strong>。</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">User</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUserRowBounds</span><span class="token punctuation">(</span><span class="token class-name">RowBounds</span> rowBounds<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getUser<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>long<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    select u.id, u.username, d.id as deptId, d.name as deptName</span>
<span class="line">    from t_user u join dept d on u.deptId = d.id where u.id = #{id}</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getUserRowBounds<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    select u.id, u.username, d.id as deptId, d.name as deptName</span>
<span class="line">    from t_user u join dept d on u.deptId = d.id</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token comment">// RowBounds</span></span>
<span class="line"><span class="token class-name">RowBounds</span> rowBounds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RowBounds</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">getUserRowBounds</span><span class="token punctuation">(</span>rowBounds<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>users<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+v+`" alt="RowBounds"></p><ul><li>数据库分页：效果最佳</li><li>后端逻辑分页： <ul><li>若数据库与后端程序属于同一服务器，则从数据库取出数据后占用大量内存。</li><li>若数据库与后端程序不在同一服务器，则数据库所在服务器占用大量内存，且传输大量数据，且占用后端服务器大量内存。</li></ul></li><li>前端逻辑分页： <ul><li>传输大量数据，用户等待时间长，体验差。</li></ul></li></ul><h2 id="_3-insert" tabindex="-1"><a class="header-anchor" href="#_3-insert"><span>3.insert</span></a></h2><h3 id="_1-主键回填" tabindex="-1"><a class="header-anchor" href="#_1-主键回填"><span>①.主键回填</span></a></h3><blockquote><p>什么是主键回填：MyBatis 中 <code>insert</code> 拿到数据库自动生成的主键（自增 id）</p></blockquote><p>应用场景：insert 一条记录 =&gt; 拿到生成的 id =&gt; 用这个 id 插入子表 / 关联表</p><p>三种方式：</p><ol><li>useGeneratedKeys</li><li><code>&lt;selectKey&gt;</code></li><li>Mapper 方法直接返回主键（原本返回影响行数）（不推荐）</li></ol><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Dept</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">DeptMapper</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span> <span class="token function">insertDept</span><span class="token punctuation">(</span><span class="token class-name">Dept</span> dept<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">int</span> <span class="token function">insertDept2</span><span class="token punctuation">(</span><span class="token class-name">Dept</span> dept<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">int</span> <span class="token function">insertDeptBefore</span><span class="token punctuation">(</span><span class="token class-name">Dept</span> dept<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">int</span> <span class="token function">insertDeptAfter</span><span class="token punctuation">(</span><span class="token class-name">Dept</span> dept<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span>
<span class="line"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span>
<span class="line">        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5.mapper.DeptMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertDept<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        insert into dept(name) values(#{name})</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertDept2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept<span class="token punctuation">&quot;</span></span> <span class="token attr-name">useGeneratedKeys</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        insert into dept(name) values(#{name})</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertDeptBefore<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selectKey</span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>long<span class="token punctuation">&quot;</span></span> <span class="token attr-name">order</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BEFORE<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            select if (max(id) = null, 1, max(id) + 3) from dept</span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selectKey</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        insert into dept(id, name) values(#{id}, #{name})</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertDeptAfter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        insert into dept(name) values(#{name})</span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selectKey</span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>long<span class="token punctuation">&quot;</span></span> <span class="token attr-name">order</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AFTER<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            select last_insert_id()</span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selectKey</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token comment">// insert</span></span>
<span class="line"><span class="token class-name">DeptMapper</span> deptMapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">DeptMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Dept</span> dept <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">dept<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;销售部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">deptMapper<span class="token punctuation">.</span><span class="token function">insertDept</span><span class="token punctuation">(</span>dept<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dept<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Dept{id=null, name=&#39;销售部&#39;}</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">Dept</span> dept1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">dept1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;运维部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">deptMapper<span class="token punctuation">.</span><span class="token function">insertDept2</span><span class="token punctuation">(</span>dept1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dept1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Dept{id=8, name=&#39;运维部&#39;}</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">Dept</span> deptBefore <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">deptBefore<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;Before部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">deptMapper<span class="token punctuation">.</span><span class="token function">insertDeptBefore</span><span class="token punctuation">(</span>deptBefore<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>deptBefore<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Dept{id=11, name=&#39;Before部&#39;}</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">Dept</span> deptAfter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">deptAfter<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;After部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">deptMapper<span class="token punctuation">.</span><span class="token function">insertDeptAfter</span><span class="token punctuation">(</span>deptAfter<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>deptAfter<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Dept{id=12, name=&#39;After部&#39;}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2自定义主键" tabindex="-1"><a class="header-anchor" href="#_2自定义主键"><span>②自定义主键</span></a></h3><p>上述例子中<code>insertDeptBefore</code>通过<code>selectKey</code>实现了自定义主键（最大id + 3）</p><h2 id="_4-resulttype-map" tabindex="-1"><a class="header-anchor" href="#_4-resulttype-map"><span>4.resultType=map</span></a></h2><blockquote><p><code>resultType=&quot;map&quot;</code> 是 MyBatis 的“<strong>万金油返回类型</strong>”， 适合“不规则结果集”，但不适合“核心业务模型”。</p></blockquote><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectDynamicColumns</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;columns&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> columns<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectDynamicColumns<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    select \${columns} from t_user</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token comment">// Dynamic column + resultType=map</span></span>
<span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectDynamicColumns</span><span class="token punctuation">(</span><span class="token string">&quot;id,username,deptId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//[{deptId=1, id=1, username=admin}, {deptId=2, id=2, username=user}]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里还用到了动态列，不过它有SQL注入风险，可通过Java层枚举白名单或xml choose白名单来避免。</p><h2 id="_5-sql" tabindex="-1"><a class="header-anchor" href="#_5-sql"><span>5.sql</span></a></h2><p><code>&lt;sql&gt;</code> 标签用于 <strong>定义可重用的 SQL 片段</strong>，可以在其他 SQL 语句中通过 <code>&lt;include&gt;</code> 引用。</p><ul><li><strong>不单独执行</strong>，只是“片段”</li><li>支持 <strong>动态 SQL / 参数</strong></li><li>可以减少重复代码，增加可维护性</li></ul><p>应用场景：</p>`,55)),l(u,{data:[{id:"复用列名"},{id:"复用条件"},{id:"复用JOIN"},{id:"动态SQL"}]},{title0:p(({value:t,isActive:e})=>[...a[12]||(a[12]=[n("复用列名",-1)])]),title1:p(({value:t,isActive:e})=>[...a[13]||(a[13]=[n("复用条件",-1)])]),title2:p(({value:t,isActive:e})=>[...a[14]||(a[14]=[n("复用JOIN",-1)])]),title3:p(({value:t,isActive:e})=>[...a[15]||(a[15]=[n("动态SQL",-1)])]),tab0:p(({value:t,isActive:e})=>[...a[16]||(a[16]=[s("div",{class:"language-xml line-numbers-mode","data-highlighter":"prismjs","data-ext":"xml"},[s("pre",null,[s("code",{class:"language-xml"},[s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("sql")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("baseColumns"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"    id, username, age"),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("sql")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("select")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("selectAll"),s("span",{class:"token punctuation"},'"')]),n(),s("span",{class:"token attr-name"},"resultType"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("User"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("    SELECT "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("include")]),n(),s("span",{class:"token attr-name"},"refid"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("baseColumns"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},"/>")]),n(" FROM t_user")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("select")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("select")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("selectById"),s("span",{class:"token punctuation"},'"')]),n(),s("span",{class:"token attr-name"},"resultType"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("User"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("    SELECT "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("include")]),n(),s("span",{class:"token attr-name"},"refid"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("baseColumns"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},"/>")]),n(" FROM t_user WHERE id = #{id}")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("select")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])]),tab1:p(({value:t,isActive:e})=>[...a[17]||(a[17]=[s("div",{class:"language-xml line-numbers-mode","data-highlighter":"prismjs","data-ext":"xml"},[s("pre",null,[s("code",{class:"language-xml"},[s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("sql")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("userWhere"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("where")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("        "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("if")]),n(),s("span",{class:"token attr-name"},"test"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("username != null"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"            username = #{username}"),n(`
`),s("span",{class:"line"},[n("        "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("if")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("        "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("if")]),n(),s("span",{class:"token attr-name"},"test"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("age != null"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"            AND age = #{age}"),n(`
`),s("span",{class:"line"},[n("        "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("if")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("where")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("sql")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("select")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("selectUser"),s("span",{class:"token punctuation"},'"')]),n(),s("span",{class:"token attr-name"},"resultType"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("User"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"    SELECT * FROM t_user"),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("include")]),n(),s("span",{class:"token attr-name"},"refid"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("userWhere"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},"/>")])]),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("select")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])]),tab2:p(({value:t,isActive:e})=>[...a[18]||(a[18]=[s("div",{class:"language-xml line-numbers-mode","data-highlighter":"prismjs","data-ext":"xml"},[s("pre",null,[s("code",{class:"language-xml"},[s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("sql")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("joinDept"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"    JOIN dept d ON u.dept_id = d.id"),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("sql")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("select")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("selectUserDept"),s("span",{class:"token punctuation"},'"')]),n(),s("span",{class:"token attr-name"},"resultType"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("User"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"    SELECT u.id, u.username, d.name AS deptName"),n(`
`),s("span",{class:"line"},"    FROM t_user u"),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("include")]),n(),s("span",{class:"token attr-name"},"refid"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("joinDept"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},"/>")])]),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("select")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])]),tab3:p(({value:t,isActive:e})=>[...a[19]||(a[19]=[s("div",{class:"language-xml line-numbers-mode","data-highlighter":"prismjs","data-ext":"xml"},[s("pre",null,[s("code",{class:"language-xml"},[s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("sql")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("dynamicColumns"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("if")]),n(),s("span",{class:"token attr-name"},"test"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("includeAge"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"        age,"),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("if")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"    username, id"),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("sql")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("select")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("selectUserDynamic"),s("span",{class:"token punctuation"},'"')]),n(),s("span",{class:"token attr-name"},"resultType"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("User"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("    SELECT "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("include")]),n(),s("span",{class:"token attr-name"},"refid"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("dynamicColumns"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},"/>")]),n(" FROM t_user")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("select")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])]),_:1}),l(r,{data:[{id:"复用列名"},{id:"复用条件"},{id:"复用JOIN"},{id:"动态SQL"}]},{title0:p(({value:t,isActive:e})=>[...a[20]||(a[20]=[n("复用列名",-1)])]),title1:p(({value:t,isActive:e})=>[...a[21]||(a[21]=[n("复用条件",-1)])]),title2:p(({value:t,isActive:e})=>[...a[22]||(a[22]=[n("复用JOIN",-1)])]),title3:p(({value:t,isActive:e})=>[...a[23]||(a[23]=[n("动态SQL",-1)])]),tab0:p(({value:t,isActive:e})=>[...a[24]||(a[24]=[s("div",{class:"language-xml line-numbers-mode","data-highlighter":"prismjs","data-ext":"xml"},[s("pre",null,[s("code",{class:"language-xml"},[s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("sql")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("baseColumns"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"    id, username, age"),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("sql")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("select")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("selectAll"),s("span",{class:"token punctuation"},'"')]),n(),s("span",{class:"token attr-name"},"resultType"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("User"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("    SELECT "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("include")]),n(),s("span",{class:"token attr-name"},"refid"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("baseColumns"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},"/>")]),n(" FROM t_user")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("select")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("select")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("selectById"),s("span",{class:"token punctuation"},'"')]),n(),s("span",{class:"token attr-name"},"resultType"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("User"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("    SELECT "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("include")]),n(),s("span",{class:"token attr-name"},"refid"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("baseColumns"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},"/>")]),n(" FROM t_user WHERE id = #{id}")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("select")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])]),tab1:p(({value:t,isActive:e})=>[...a[25]||(a[25]=[s("div",{class:"language-xml line-numbers-mode","data-highlighter":"prismjs","data-ext":"xml"},[s("pre",null,[s("code",{class:"language-xml"},[s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("sql")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("userWhere"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("where")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("        "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("if")]),n(),s("span",{class:"token attr-name"},"test"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("username != null"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"            username = #{username}"),n(`
`),s("span",{class:"line"},[n("        "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("if")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("        "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("if")]),n(),s("span",{class:"token attr-name"},"test"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("age != null"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"            AND age = #{age}"),n(`
`),s("span",{class:"line"},[n("        "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("if")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("where")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("sql")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("select")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("selectUser"),s("span",{class:"token punctuation"},'"')]),n(),s("span",{class:"token attr-name"},"resultType"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("User"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"    SELECT * FROM t_user"),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("include")]),n(),s("span",{class:"token attr-name"},"refid"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("userWhere"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},"/>")])]),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("select")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])]),tab2:p(({value:t,isActive:e})=>[...a[26]||(a[26]=[s("div",{class:"language-xml line-numbers-mode","data-highlighter":"prismjs","data-ext":"xml"},[s("pre",null,[s("code",{class:"language-xml"},[s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("sql")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("joinDept"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"    JOIN dept d ON u.dept_id = d.id"),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("sql")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("select")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("selectUserDept"),s("span",{class:"token punctuation"},'"')]),n(),s("span",{class:"token attr-name"},"resultType"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("User"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"    SELECT u.id, u.username, d.name AS deptName"),n(`
`),s("span",{class:"line"},"    FROM t_user u"),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("include")]),n(),s("span",{class:"token attr-name"},"refid"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("joinDept"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},"/>")])]),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("select")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])]),tab3:p(({value:t,isActive:e})=>[...a[27]||(a[27]=[s("div",{class:"language-xml line-numbers-mode","data-highlighter":"prismjs","data-ext":"xml"},[s("pre",null,[s("code",{class:"language-xml"},[s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("sql")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("dynamicColumns"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("if")]),n(),s("span",{class:"token attr-name"},"test"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("includeAge"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"        age,"),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("if")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},"    username, id"),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("sql")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("select")]),n(),s("span",{class:"token attr-name"},"id"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("selectUserDynamic"),s("span",{class:"token punctuation"},'"')]),n(),s("span",{class:"token attr-name"},"resultType"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("User"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"},[n("    SELECT "),s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"<"),n("include")]),n(),s("span",{class:"token attr-name"},"refid"),s("span",{class:"token attr-value"},[s("span",{class:"token punctuation attr-equals"},"="),s("span",{class:"token punctuation"},'"'),n("dynamicColumns"),s("span",{class:"token punctuation"},'"')]),s("span",{class:"token punctuation"},"/>")]),n(" FROM t_user")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token tag"},[s("span",{class:"token tag"},[s("span",{class:"token punctuation"},"</"),n("select")]),s("span",{class:"token punctuation"},">")])]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])]),_:1}),a[30]||(a[30]=i('<h2 id="_6-级联" tabindex="-1"><a class="header-anchor" href="#_6-级联"><span>6.级联</span></a></h2><p><img src="'+b+`" alt="表结构"></p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">use</span> ssm<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_employee <span class="token punctuation">(</span></span>
<span class="line">  id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span> </span>
<span class="line">  real_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  sex <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;1-男 0-女&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  birthday <span class="token keyword">DATE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span></span>
<span class="line">  mobile <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  POSITION <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  note <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_employee_task <span class="token punctuation">(</span></span>
<span class="line">  id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  emp_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  task_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  task_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  note <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span> </span>
<span class="line">  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_female_health_form <span class="token punctuation">(</span></span>
<span class="line">  id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span> </span>
<span class="line">  emp_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  heart <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  liver <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  spleen <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  lung <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  kidney <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  uterus <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  note <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span> </span>
<span class="line">  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_male_health_form <span class="token punctuation">(</span></span>
<span class="line">  id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span> </span>
<span class="line">  emp_id <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  heart <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  liver <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  spleen <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  lung <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  kidney <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  prostate <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  note <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span> </span>
<span class="line">  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_task <span class="token punctuation">(</span></span>
<span class="line">  id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  title <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  context <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">  note <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span> </span>
<span class="line">  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">create</span> <span class="token keyword">table</span> t_work_card <span class="token punctuation">(</span></span>
<span class="line">  id <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span> </span>
<span class="line">  emp_id <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> </span>
<span class="line">  real_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> </span>
<span class="line">  department <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> </span>
<span class="line">  mobile <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> </span>
<span class="line">  position <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> </span>
<span class="line">  note <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span> </span>
<span class="line">  <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_employee_task </span>
<span class="line"><span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> FK_Reference_4 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>emp_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> t_employee<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">RESTRICT</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">RESTRICT</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_employee_task </span>
<span class="line"><span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> FK_Reference_8 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>task_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> t_task<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">RESTRICT</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">RESTRICT</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_female_health_form </span>
<span class="line"><span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> FK_Reference_5 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>emp_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> t_employee<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">RESTRICT</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">RESTRICT</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_male_health_form </span>
<span class="line"><span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> FK_Reference_6 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>emp_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> t_employee<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">RESTRICT</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">RESTRICT</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_work_card </span>
<span class="line"><span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> FK_Reference_7 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>emp_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> t_employee<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">RESTRICT</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">RESTRICT</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_employee <span class="token punctuation">(</span>real_name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> birthday<span class="token punctuation">,</span> mobile<span class="token punctuation">,</span> email<span class="token punctuation">,</span> POSITION<span class="token punctuation">,</span> note<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">VALUES</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;1990-05-12&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;13800000001&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;zhangsan@test.com&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;工程师&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;技术骨干&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&#39;1992-08-20&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;13800000002&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;lisi@test.com&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;测试工程师&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;细心认真&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token string">&#39;王五&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;1988-03-15&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;13800000003&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;wangwu@test.com&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;项目经理&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;负责项目管理&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_task <span class="token punctuation">(</span>id<span class="token punctuation">,</span> title<span class="token punctuation">,</span> context<span class="token punctuation">,</span> note<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">VALUES</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;系统开发&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;完成核心模块开发&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;优先级高&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;系统测试&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;进行功能与性能测试&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;需要详细记录&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;项目管理&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;协调团队与进度&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;定期汇报&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_employee_task <span class="token punctuation">(</span>id<span class="token punctuation">,</span> emp_id<span class="token punctuation">,</span> task_id<span class="token punctuation">,</span> task_name<span class="token punctuation">,</span> note<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">VALUES</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;系统开发&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;负责后端模块&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;系统测试&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;负责功能测试&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;项目管理&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;整体项目把控&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_female_health_form</span>
<span class="line"><span class="token punctuation">(</span>emp_id<span class="token punctuation">,</span> heart<span class="token punctuation">,</span> liver<span class="token punctuation">,</span> spleen<span class="token punctuation">,</span> lung<span class="token punctuation">,</span> kidney<span class="token punctuation">,</span> uterus<span class="token punctuation">,</span> note<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">VALUES</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;体检情况良好&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_male_health_form</span>
<span class="line"><span class="token punctuation">(</span>emp_id<span class="token punctuation">,</span> heart<span class="token punctuation">,</span> liver<span class="token punctuation">,</span> spleen<span class="token punctuation">,</span> lung<span class="token punctuation">,</span> kidney<span class="token punctuation">,</span> prostate<span class="token punctuation">,</span> note<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">VALUES</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;轻度脂肪肝&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;注意饮食&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正常&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;无异常&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_work_card</span>
<span class="line"><span class="token punctuation">(</span>emp_id<span class="token punctuation">,</span> real_name<span class="token punctuation">,</span> department<span class="token punctuation">,</span> mobile<span class="token punctuation">,</span> position<span class="token punctuation">,</span> note<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">VALUES</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;研发部&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;13800000001&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;工程师&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正式员工&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;李四&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;测试部&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;13800000002&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;测试工程师&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;正式员工&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;王五&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;管理部&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;13800000003&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;项目经理&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;部门负责人&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+g+`" alt="文件"></p><p>pojo / Task</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5_cascade<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Task</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> context<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> note<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">//getter and setter</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;Task{&quot;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, title=&#39;&quot;</span> <span class="token operator">+</span> title <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, context=&#39;&quot;</span> <span class="token operator">+</span> context <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, note=&#39;&quot;</span> <span class="token operator">+</span> note <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>pojo / WorkCard</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5_cascade<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WorkCard</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Long</span> empId<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> realName<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> department<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> mobile<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> position<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> note<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// getter and setter</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;WorkCard{&quot;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, empId=&quot;</span> <span class="token operator">+</span> empId <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, realName=&#39;&quot;</span> <span class="token operator">+</span> realName <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, department=&#39;&quot;</span> <span class="token operator">+</span> department <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, mobile=&#39;&quot;</span> <span class="token operator">+</span> mobile <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, position=&#39;&quot;</span> <span class="token operator">+</span> position <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, note=&#39;&quot;</span> <span class="token operator">+</span> note <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>pojo / HealthForm</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5_cascade<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">HealthForm</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">Long</span> empId<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">String</span> heart<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">String</span> liver<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">String</span> spleen<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">String</span> lung<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">String</span> kidney<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token class-name">String</span> note<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// getter and setter</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;HealthForm{&quot;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, empId=&quot;</span> <span class="token operator">+</span> empId <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, heart=&#39;&quot;</span> <span class="token operator">+</span> heart <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, liver=&#39;&quot;</span> <span class="token operator">+</span> liver <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, spleen=&#39;&quot;</span> <span class="token operator">+</span> spleen <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, lung=&#39;&quot;</span> <span class="token operator">+</span> lung <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, kidney=&#39;&quot;</span> <span class="token operator">+</span> kidney <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, note=&#39;&quot;</span> <span class="token operator">+</span> note <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>pojo / MaleHealthForm</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5_cascade<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MaleHealthForm</span> <span class="token keyword">extends</span> <span class="token class-name">HealthForm</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> prostate<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getProstate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> prostate<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setProstate</span><span class="token punctuation">(</span><span class="token class-name">String</span> prostate<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prostate <span class="token operator">=</span> prostate<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;MaleHealthForm{&quot;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, empId=&quot;</span> <span class="token operator">+</span> empId <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, heart=&#39;&quot;</span> <span class="token operator">+</span> heart <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, liver=&#39;&quot;</span> <span class="token operator">+</span> liver <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, spleen=&#39;&quot;</span> <span class="token operator">+</span> spleen <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, lung=&#39;&quot;</span> <span class="token operator">+</span> lung <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, kidney=&#39;&quot;</span> <span class="token operator">+</span> kidney <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, prostate=&#39;&quot;</span> <span class="token operator">+</span> prostate <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, note=&#39;&quot;</span> <span class="token operator">+</span> note <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>pojo / FemaleHealthForm</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5_cascade<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FemaleHealthForm</span> <span class="token keyword">extends</span> <span class="token class-name">HealthForm</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> uterus<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUterus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> uterus<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUterus</span><span class="token punctuation">(</span><span class="token class-name">String</span> uterus<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>uterus <span class="token operator">=</span> uterus<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;FemaleHealthForm{&quot;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;uterus=&#39;&quot;</span> <span class="token operator">+</span> uterus <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, empId=&quot;</span> <span class="token operator">+</span> empId <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, heart=&#39;&quot;</span> <span class="token operator">+</span> heart <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, liver=&#39;&quot;</span> <span class="token operator">+</span> liver <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, spleen=&#39;&quot;</span> <span class="token operator">+</span> spleen <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, lung=&#39;&quot;</span> <span class="token operator">+</span> lung <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, kidney=&#39;&quot;</span> <span class="token operator">+</span> kidney <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, note=&#39;&quot;</span> <span class="token operator">+</span> note <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>pojo / EmployeeTask</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5_cascade<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EmployeeTask</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Long</span> empId <span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Task</span> task <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> taskName <span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> note <span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// getter and setter</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;EmployeeTask{&quot;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, empId=&quot;</span> <span class="token operator">+</span> empId <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, task=&quot;</span> <span class="token operator">+</span> task <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, taskName=&#39;&quot;</span> <span class="token operator">+</span> taskName <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, note=&#39;&quot;</span> <span class="token operator">+</span> note <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>pojo / Employee</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5_cascade<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5_cascade<span class="token punctuation">.</span>enumeration<span class="token punctuation">.</span></span><span class="token class-name">SexEnum</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> realName<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">SexEnum</span> sex <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Date</span> birthday<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> mobile<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> position<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> note<span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">//工牌按一对一级联</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">WorkCard</span> workCard<span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">//雇员任务，一对多级联</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EmployeeTask</span><span class="token punctuation">&gt;</span></span> employeeTaskList <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">HealthForm</span> healthForm<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// getter and setter</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string">&quot;Employee{&quot;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, realName=&#39;&quot;</span> <span class="token operator">+</span> realName <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, sex=&quot;</span> <span class="token operator">+</span> sex <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, birthday=&quot;</span> <span class="token operator">+</span> birthday <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, mobile=&#39;&quot;</span> <span class="token operator">+</span> mobile <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, email=&#39;&quot;</span> <span class="token operator">+</span> email <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, position=&#39;&quot;</span> <span class="token operator">+</span> position <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, note=&#39;&quot;</span> <span class="token operator">+</span> note <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, workCard=&quot;</span> <span class="token operator">+</span> workCard <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, employeeTaskList=&quot;</span> <span class="token operator">+</span> employeeTaskList <span class="token operator">+</span></span>
<span class="line">                <span class="token string">&quot;, healthForm=&quot;</span> <span class="token operator">+</span> healthForm <span class="token operator">+</span></span>
<span class="line">                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>pojo / MaleEmployee</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5_cascade<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MaleEmployee</span> <span class="token keyword">extends</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">MaleHealthForm</span> maleHealthForm <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">MaleHealthForm</span> <span class="token function">getMaleHealthForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> maleHealthForm<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMaleHealthForm</span><span class="token punctuation">(</span><span class="token class-name">MaleHealthForm</span> maleHealthForm<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>maleHealthForm <span class="token operator">=</span> maleHealthForm<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>pojo / FemaleEmployee</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>chapter5_cascade<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FemaleEmployee</span> <span class="token keyword">extends</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">FemaleHealthForm</span> femaleHealthForm <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">FemaleHealthForm</span> <span class="token function">getFemaleHealthForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> femaleHealthForm<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setFemaleHealthForm</span><span class="token punctuation">(</span><span class="token class-name">FemaleHealthForm</span> femaleHealthForm<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>femaleHealthForm <span class="token operator">=</span> femaleHealthForm<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>mapper / EmployeeTaskMapper.xml</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span>
<span class="line"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span>
<span class="line">        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5_cascade.mapper.EmployeeTaskMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5_cascade.pojo.EmployeeTask<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>EmployeeTaskMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empId<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>task_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>taskName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>note<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>note<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>task<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>task_id<span class="token punctuation">&quot;</span></span></span>
<span class="line">                     <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5_cascade.mapper.TaskMapper.getTaskById<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmployeeTaskByEmpId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>EmployeeTaskMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        select id, emp_id, task_name, task_id, note from t_employee_task</span>
<span class="line">        where emp_id = #{empId}</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>association</strong>标签表示一对一级联，select属性表示采用哪个方法来拿到结果，column属性表示SQL中的列，同时作为参数传给select属性对应的方法（如果这里有多个参数，则需要通过逗号隔开），property属性表示将结果映射到POJO哪个属性上。</p><p>mapper / EmployeeMapper.xml</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span>
<span class="line"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span>
<span class="line">        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5_cascade.mapper.EmployeeMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5_cascade.pojo.Employee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>real_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>realName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span> <span class="token attr-name">typeHandler</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5_cascade.typeHandler.SexEnumTypeHandler<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birthday<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birthday<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mobile<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mobile<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>position<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>position<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>note<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>note<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>workCard<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5_cascade.mapper.WorkCardMapper.getWorkCardByEmpId<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>employeeTaskList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5_cascade.mapper.EmployeeTaskMapper.getEmployeeTaskByEmpId<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>discriminator</span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>long<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>case</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maleHealthFormMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>case</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>femaleHealthFormMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>discriminator</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5_cascade.pojo.FemaleEmployee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>femaleHealthFormMapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">extends</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>healthForm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5_cascade.mapper.FemaleHealthFormMapper.getFemaleHealthForm<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5_cascade.pojo.MaleEmployee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maleHealthFormMapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">extends</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>healthForm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.learn.ssm.chapter5_cascade.mapper.MaleHealthFormMapper.getMaleHealthForm<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmployee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>long<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        select id, real_name as realName, sex, birthday, mobile, email, position, note from t_employee where id = #{id}</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>collection</strong>标签表示一对多级联，select属性表示采用哪个方法来拿到结果，column属性表示SQL中的列，同时作为参数传给select属性对应的方法（如果这里有多个参数，则需要通过逗号隔开），property属性表示将结果映射到POJO哪个属性上。</p><p><strong>discriminator</strong>标签表示<strong>鉴别器</strong>，column属性表示采用SQL中的哪一列来鉴别，而它的子元素case，则用于进行区分，类似于Java的switch...case..语句。而resultMap属性表示采用哪个ResultMap去映射，比如sex=1，则使用maleHealthFormMapper进行映射。</p><p>resultMap的extends属性的作用是：继承另一个 resultMap 的配置。</p><p>输出：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,034 org.apache.ibatis.logging.LogFactory: Logging initialized using <span class="token string">&#39;class org.apache.ibatis.logging.slf4j.Slf4jImpl&#39;</span> adapter.</span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,120 org.apache.ibatis.datasource.pooled.PooledDataSource: PooledDataSource forcefully closed/removed all connections.</span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,121 org.apache.ibatis.datasource.pooled.PooledDataSource: PooledDataSource forcefully closed/removed all connections.</span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,121 org.apache.ibatis.datasource.pooled.PooledDataSource: PooledDataSource forcefully closed/removed all connections.</span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,121 org.apache.ibatis.datasource.pooled.PooledDataSource: PooledDataSource forcefully closed/removed all connections.</span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,249 org.apache.ibatis.transaction.jdbc.JdbcTransaction: Opening JDBC Connection</span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,751 org.apache.ibatis.datasource.pooled.PooledDataSource: Created connection <span class="token number">1389509050</span>.</span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,751 org.apache.ibatis.transaction.jdbc.JdbcTransaction: Setting autocommit to <span class="token boolean">false</span> on JDBC Connection <span class="token punctuation">[</span>com.mysql.cj.jdbc.ConnectionImpl@52d239ba<span class="token punctuation">]</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,752 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: <span class="token keyword">select</span> id, real_name as realName, sex, birthday, mobile, email, position, note from t_employee where <span class="token function">id</span> <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,773 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">1</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,787 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: <span class="token keyword">select</span> id, emp_id as empId, heart, liver, spleen, lung, kidney, prostate, note from t_male_health_form where emp_id <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,787 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">1</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,790 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,792 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: SELECT id, emp_id as empId, real_name as realName, department, mobile, position, note FROM t_work_card where emp_id <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,792 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">1</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,794 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,795 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: <span class="token keyword">select</span> id, emp_id, task_name, task_id, note from t_employee_task where emp_id <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,795 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">1</span><span class="token punctuation">(</span>Integer<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,796 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: <span class="token keyword">select</span> id, title, context, note from t_task where <span class="token function">id</span> <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,796 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">1</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,797 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,797 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,797 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line"> INFO <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,799 com.learn.ssm.chapter5_cascade.main.Main: Employee<span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">realName</span><span class="token operator">=</span><span class="token string">&#39;张三&#39;</span>, <span class="token assign-left variable">sex</span><span class="token operator">=</span>MALE, <span class="token assign-left variable">birthday</span><span class="token operator">=</span>Sat May <span class="token number">12</span> 00:00:00 CDT <span class="token number">1990</span>, <span class="token assign-left variable">mobile</span><span class="token operator">=</span><span class="token string">&#39;13800000001&#39;</span>, <span class="token assign-left variable">email</span><span class="token operator">=</span><span class="token string">&#39;zhangsan@test.com&#39;</span>, <span class="token assign-left variable">position</span><span class="token operator">=</span><span class="token string">&#39;工程师&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;技术骨干&#39;</span>, <span class="token assign-left variable">workCard</span><span class="token operator">=</span>WorkCard<span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">empId</span><span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">realName</span><span class="token operator">=</span><span class="token string">&#39;张三&#39;</span>, <span class="token assign-left variable">department</span><span class="token operator">=</span><span class="token string">&#39;研发部&#39;</span>, <span class="token assign-left variable">mobile</span><span class="token operator">=</span><span class="token string">&#39;13800000001&#39;</span>, <span class="token assign-left variable">position</span><span class="token operator">=</span><span class="token string">&#39;工程师&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;正式员工&#39;</span><span class="token punctuation">}</span>, <span class="token assign-left variable">employeeTaskList</span><span class="token operator">=</span><span class="token punctuation">[</span>EmployeeTask<span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">empId</span><span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">task</span><span class="token operator">=</span>Task<span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">title</span><span class="token operator">=</span><span class="token string">&#39;系统开发&#39;</span>, <span class="token assign-left variable">context</span><span class="token operator">=</span><span class="token string">&#39;完成核心模块开发&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;优先级高&#39;</span><span class="token punctuation">}</span>, <span class="token assign-left variable">taskName</span><span class="token operator">=</span><span class="token string">&#39;系统开发&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;负责后端模块&#39;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>, <span class="token assign-left variable">healthForm</span><span class="token operator">=</span>MaleHealthForm<span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">empId</span><span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">heart</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">liver</span><span class="token operator">=</span><span class="token string">&#39;轻度脂肪肝&#39;</span>, <span class="token assign-left variable">spleen</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">lung</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">kidney</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">prostate</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;注意饮食&#39;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,799 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: <span class="token keyword">select</span> id, real_name as realName, sex, birthday, mobile, email, position, note from t_employee where <span class="token function">id</span> <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,799 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">2</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,800 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: <span class="token keyword">select</span> id, emp_id as empId, heart, liver, spleen, lung, kidney, uterus, note from t_female_health_form where emp_id <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,800 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">2</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,802 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,802 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: SELECT id, emp_id as empId, real_name as realName, department, mobile, position, note FROM t_work_card where emp_id <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,803 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">2</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,804 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,804 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: <span class="token keyword">select</span> id, emp_id, task_name, task_id, note from t_employee_task where emp_id <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,804 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">2</span><span class="token punctuation">(</span>Integer<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,805 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: <span class="token keyword">select</span> id, title, context, note from t_task where <span class="token function">id</span> <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,805 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">2</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,805 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,806 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,806 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line"> INFO <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,806 com.learn.ssm.chapter5_cascade.main.Main: Employee<span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">2</span>, <span class="token assign-left variable">realName</span><span class="token operator">=</span><span class="token string">&#39;李四&#39;</span>, <span class="token assign-left variable">sex</span><span class="token operator">=</span>FEMALE, <span class="token assign-left variable">birthday</span><span class="token operator">=</span>Thu Aug <span class="token number">20</span> 00:00:00 CST <span class="token number">1992</span>, <span class="token assign-left variable">mobile</span><span class="token operator">=</span><span class="token string">&#39;13800000002&#39;</span>, <span class="token assign-left variable">email</span><span class="token operator">=</span><span class="token string">&#39;lisi@test.com&#39;</span>, <span class="token assign-left variable">position</span><span class="token operator">=</span><span class="token string">&#39;测试工程师&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;细心认真&#39;</span>, <span class="token assign-left variable">workCard</span><span class="token operator">=</span>WorkCard<span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">2</span>, <span class="token assign-left variable">empId</span><span class="token operator">=</span><span class="token number">2</span>, <span class="token assign-left variable">realName</span><span class="token operator">=</span><span class="token string">&#39;李四&#39;</span>, <span class="token assign-left variable">department</span><span class="token operator">=</span><span class="token string">&#39;测试部&#39;</span>, <span class="token assign-left variable">mobile</span><span class="token operator">=</span><span class="token string">&#39;13800000002&#39;</span>, <span class="token assign-left variable">position</span><span class="token operator">=</span><span class="token string">&#39;测试工程师&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;正式员工&#39;</span><span class="token punctuation">}</span>, <span class="token assign-left variable">employeeTaskList</span><span class="token operator">=</span><span class="token punctuation">[</span>EmployeeTask<span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">2</span>, <span class="token assign-left variable">empId</span><span class="token operator">=</span><span class="token number">2</span>, <span class="token assign-left variable">task</span><span class="token operator">=</span>Task<span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">2</span>, <span class="token assign-left variable">title</span><span class="token operator">=</span><span class="token string">&#39;系统测试&#39;</span>, <span class="token assign-left variable">context</span><span class="token operator">=</span><span class="token string">&#39;进行功能与性能测试&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;需要详细记录&#39;</span><span class="token punctuation">}</span>, <span class="token assign-left variable">taskName</span><span class="token operator">=</span><span class="token string">&#39;系统测试&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;负责功能测试&#39;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>, <span class="token assign-left variable">healthForm</span><span class="token operator">=</span>FemaleHealthForm<span class="token punctuation">{</span>uterus<span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">empId</span><span class="token operator">=</span><span class="token number">2</span>, <span class="token assign-left variable">heart</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">liver</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">spleen</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">lung</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">kidney</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;体检情况良好&#39;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,806 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: <span class="token keyword">select</span> id, real_name as realName, sex, birthday, mobile, email, position, note from t_employee where <span class="token function">id</span> <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,806 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">3</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,807 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: <span class="token keyword">select</span> id, emp_id as empId, heart, liver, spleen, lung, kidney, prostate, note from t_male_health_form where emp_id <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,807 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">3</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,808 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,808 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: SELECT id, emp_id as empId, real_name as realName, department, mobile, position, note FROM t_work_card where emp_id <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,808 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">3</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,809 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,809 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: <span class="token keyword">select</span> id, emp_id, task_name, task_id, note from t_employee_task where emp_id <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,809 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">3</span><span class="token punctuation">(</span>Integer<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,810 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: <span class="token keyword">select</span> id, title, context, note from t_task where <span class="token function">id</span> <span class="token operator">=</span> ? </span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,810 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">3</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,811 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,811 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,811 org.apache.ibatis.logging.jdbc.BaseJdbcLogger: <span class="token operator">&lt;=</span><span class="token operator">=</span>      Total: <span class="token number">1</span></span>
<span class="line"> INFO <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,811 com.learn.ssm.chapter5_cascade.main.Main: Employee<span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">3</span>, <span class="token assign-left variable">realName</span><span class="token operator">=</span><span class="token string">&#39;王五&#39;</span>, <span class="token assign-left variable">sex</span><span class="token operator">=</span>MALE, <span class="token assign-left variable">birthday</span><span class="token operator">=</span>Tue Mar <span class="token number">15</span> 00:00:00 CST <span class="token number">1988</span>, <span class="token assign-left variable">mobile</span><span class="token operator">=</span><span class="token string">&#39;13800000003&#39;</span>, <span class="token assign-left variable">email</span><span class="token operator">=</span><span class="token string">&#39;wangwu@test.com&#39;</span>, <span class="token assign-left variable">position</span><span class="token operator">=</span><span class="token string">&#39;项目经理&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;负责项目管理&#39;</span>, <span class="token assign-left variable">workCard</span><span class="token operator">=</span>WorkCard<span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">3</span>, <span class="token assign-left variable">empId</span><span class="token operator">=</span><span class="token number">3</span>, <span class="token assign-left variable">realName</span><span class="token operator">=</span><span class="token string">&#39;王五&#39;</span>, <span class="token assign-left variable">department</span><span class="token operator">=</span><span class="token string">&#39;管理部&#39;</span>, <span class="token assign-left variable">mobile</span><span class="token operator">=</span><span class="token string">&#39;13800000003&#39;</span>, <span class="token assign-left variable">position</span><span class="token operator">=</span><span class="token string">&#39;项目经理&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;部门负责人&#39;</span><span class="token punctuation">}</span>, <span class="token assign-left variable">employeeTaskList</span><span class="token operator">=</span><span class="token punctuation">[</span>EmployeeTask<span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">3</span>, <span class="token assign-left variable">empId</span><span class="token operator">=</span><span class="token number">3</span>, <span class="token assign-left variable">task</span><span class="token operator">=</span>Task<span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">3</span>, <span class="token assign-left variable">title</span><span class="token operator">=</span><span class="token string">&#39;项目管理&#39;</span>, <span class="token assign-left variable">context</span><span class="token operator">=</span><span class="token string">&#39;协调团队与进度&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;定期汇报&#39;</span><span class="token punctuation">}</span>, <span class="token assign-left variable">taskName</span><span class="token operator">=</span><span class="token string">&#39;项目管理&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;整体项目把控&#39;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>, <span class="token assign-left variable">healthForm</span><span class="token operator">=</span>MaleHealthForm<span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">2</span>, <span class="token assign-left variable">empId</span><span class="token operator">=</span><span class="token number">3</span>, <span class="token assign-left variable">heart</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">liver</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">spleen</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">lung</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">kidney</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">prostate</span><span class="token operator">=</span><span class="token string">&#39;正常&#39;</span>, <span class="token assign-left variable">note</span><span class="token operator">=</span><span class="token string">&#39;无异常&#39;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,811 org.apache.ibatis.transaction.jdbc.JdbcTransaction: Resetting autocommit to <span class="token boolean">true</span> on JDBC Connection <span class="token punctuation">[</span>com.mysql.cj.jdbc.ConnectionImpl@52d239ba<span class="token punctuation">]</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,811 org.apache.ibatis.transaction.jdbc.JdbcTransaction: Closing JDBC Connection <span class="token punctuation">[</span>com.mysql.cj.jdbc.ConnectionImpl@52d239ba<span class="token punctuation">]</span></span>
<span class="line">DEBUG <span class="token number">2025</span>-12-31 <span class="token number">14</span>:10:38,811 org.apache.ibatis.datasource.pooled.PooledDataSource: Returned connection <span class="token number">1389509050</span> to pool.</span>
<span class="line"></span>
<span class="line">Process finished with <span class="token builtin class-name">exit</span> code <span class="token number">0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>查询时流程：</strong></p><ol><li>执行 <code>getEmployee</code> 查询，使用基础的 <code>employee</code> resultMap</li><li>根据 <code>sex</code> 字段的值（鉴别器 column）决定使用哪个<strong>子 resultMap</strong></li><li>如果是女性（sex=0），使用 <code>femaleHealthFormMapper</code><ul><li>继承所有 <code>employee</code> 的基础映射</li><li>额外添加 <code>healthForm</code> 关联（女性健康表）</li></ul></li><li>如果是男性（sex=1），使用 <code>maleHealthFormMapper</code><ul><li>继承所有 <code>employee</code> 的基础映射</li><li>额外添加 <code>healthForm</code> 关联（男性健康表）</li></ul></li></ol><p><strong>用代码模拟这个过程：</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token comment">// 模拟 MyBatis 的内部处理逻辑</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token class-name">Employee</span> <span class="token function">processResultSet</span><span class="token punctuation">(</span><span class="token class-name">ResultSet</span> rs<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 1. 创建基础对象（根据type=&quot;Employee&quot;）</span></span>
<span class="line">    <span class="token class-name">Employee</span> emp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// 2. 应用employee resultMap的所有基础映射</span></span>
<span class="line">    emp<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    emp<span class="token punctuation">.</span><span class="token function">setRealName</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;real_name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    emp<span class="token punctuation">.</span><span class="token function">setSex</span><span class="token punctuation">(</span>sexTypeHandler<span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>rs<span class="token punctuation">,</span> <span class="token string">&quot;sex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 使用TypeHandler转换</span></span>
<span class="line">    <span class="token comment">// ... 映射其他基础字段</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// 3. 应用关联映射（workCard等）</span></span>
<span class="line">    emp<span class="token punctuation">.</span><span class="token function">setWorkCard</span><span class="token punctuation">(</span>workCardMapper<span class="token punctuation">.</span><span class="token function">getWorkCard</span><span class="token punctuation">(</span>emp<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// 4. 鉴别器判断</span></span>
<span class="line">    <span class="token keyword">long</span> sexValue <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>sexValue <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 5. 转换为子类</span></span>
<span class="line">        <span class="token class-name">MaleEmployee</span> maleEmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MaleEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>emp<span class="token punctuation">,</span> maleEmp<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 复制所有已映射的属性</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 6. 应用maleHealthFormMapper的额外配置</span></span>
<span class="line">        maleEmp<span class="token punctuation">.</span><span class="token function">setHealthForm</span><span class="token punctuation">(</span>maleHealthFormMapper<span class="token punctuation">.</span><span class="token function">getMaleHealthForm</span><span class="token punctuation">(</span>maleEmp<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token keyword">return</span> maleEmp<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>sexValue <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 同理，处理女性员工</span></span>
<span class="line">        <span class="token class-name">FemaleEmployee</span> femaleEmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FemaleEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>emp<span class="token punctuation">,</span> femaleEmp<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        femaleEmp<span class="token punctuation">.</span><span class="token function">setHealthForm</span><span class="token punctuation">(</span>femaleHealthFormMapper<span class="token punctuation">.</span><span class="token function">getFemaleHealthForm</span><span class="token punctuation">(</span>femaleEmp<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> femaleEmp<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">return</span> emp<span class="token punctuation">;</span>  <span class="token comment">// 如果没有匹配的case，返回基础Employee</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>查询开始时使用第一个resultMap（employee），但在处理过程中会根据sex值动态应用后两个resultMap之一，并且后两个resultMap继承了第一个的所有配置，同时添加了特有的健康表关联。</strong></p><p>这是一个<strong>继承 + 多态</strong>的设计模式，不是简单的&quot;切换替换&quot;。</p>`,38))])}const E=k(y,[["render",h]]),T=JSON.parse(`{"path":"/post/11_Mapper.html","title":"映射器","lang":"zh-CN","frontmatter":{"title":"映射器","lang":"zh-CN","author":"fireworks99","date":"2025-12-10"},"git":{"updatedTime":1767162172000,"contributors":[{"name":"fireworks99","username":"fireworks99","email":"2639237361@qq.com","commits":8,"url":"https://github.com/fireworks99"}],"changelog":[{"hash":"fc111e8a8504987f1c05683ace54fda3518fe0cc","time":1767162172000,"email":"46671672+fireworks99@users.noreply.github.com","author":"fireworks99","message":"'Cascade'"},{"hash":"8409d6926ef56a251b68dc8a0ee45c64a50cc75c","time":1766129953000,"email":"2639237361@qq.com","author":"fireworks99","message":"'sql'"},{"hash":"459fd8c3b18d47426a21aa88b61100a68746a17b","time":1766050930000,"email":"2639237361@qq.com","author":"fireworks99","message":"'resultType=map'"},{"hash":"4b65a5e9a700bf5cd9e240a5b6e2a2f29653cf6d","time":1766040135000,"email":"2639237361@qq.com","author":"fireworks99","message":"'insert'"},{"hash":"69c982e8f72b7da8960787123c85f673830bb2d0","time":1766028254000,"email":"2639237361@qq.com","author":"fireworks99","message":"'RowBounds'"},{"hash":"033ba4e89bd680b0865979fde134895f68360842","time":1765424573000,"email":"2639237361@qq.com","author":"fireworks99","message":"'resultMap'"},{"hash":"d8116cb64e1e1ee863110aa93facebd204c3f7ad","time":1765416123000,"email":"2639237361@qq.com","author":"fireworks99","message":"'mapper'"},{"hash":"df7346d5df2888a753ff80e116a2ad65ac6279c7","time":1765364546000,"email":"2639237361@qq.com","author":"fireworks99","message":"'映射器'"}]},"filePathRelative":"post/11_Mapper.md"}`);export{E as comp,T as data};
